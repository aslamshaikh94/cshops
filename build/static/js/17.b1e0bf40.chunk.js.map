{"version":3,"sources":["admin/components/Hocpanel.js","components/Contactinfo.js","admin/myprofile/Myprofile.js"],"names":["Hocpanel","HocComponent","props","className","memo","data","fname","phone","email","address","state","city","pincode","country","Fragment","onClick","actionbtn","Contactinfoform","lazy","useContext","AppContext","dispatch","useState","contact","setContact","cInfo","setCinfo","cForm","setCForm","useToasts","addToast","formValidation","test","type","payload","getContactInfo","axios","get","API_URL","getToken","then","res","useEffect","contactInfo","infodata","put","id","post","e"],"mappings":"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","file":"static/js/17.b1e0bf40.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Hocpanel =(HocComponent)=>{\r\n\treturn (props)=>(\r\n\t\t\t<div className=\"adminpanel\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t<HocComponent {...props} />\r\n\t\t\t</div>\t\t\r\n\t)\t\t\r\n}\r\n\r\nexport default Hocpanel","import React, {memo} from 'react';\r\n\r\nconst Contactinfo=(props)=>{\r\n\tconst {fname, phone, email, address, state, city, pincode, country} = props.data;\r\n\t\r\n\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div className=\"d-flex justify-content-between\">\r\n\t\t\t\t\t<h6>Contact Information</h6> \r\n\t\t\t\t\t\t<button className=\"btn btn-sm btn_orange\" onClick={props.actionbtn}>\r\n\t\t\t\t\t\t\t<i className=\"fal fa-pen\"></i> Edit\r\n\t\t\t\t\t\t</button> \r\n\t\t\t\t</div>\t\t\t\t\r\n\t\t\t\t<p className=\"m-0\">Name:  {fname? fname :null}</p>\r\n\t\t\t\t<p className=\"m-0\">Phone:  {phone? phone :null}</p>\r\n\t\t\t\t<p className=\"m-0\">Email:  {email? email :null}</p>\r\n\t\t\t\t<p className=\"m-0\">\r\n\t\t\t\tAddress: \r\n\t\t\t\t\t{` ${address}, ${city}, ${state}, ${pincode}, ${country}` } \t\t\t\t\r\n\t\t\t\t</p>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n}\r\n\r\nexport default memo(Contactinfo)\r\n\r\n\r\n","import React, {useState, useEffect, useContext, lazy} from 'react';\r\nimport axios from 'axios';\r\nimport {AppContext} from '../../App';\r\nimport {getToken} from '../../methods/methods';\r\nimport Hocpanel from '../components/Hocpanel';\r\nimport {useToasts } from 'react-toast-notifications';\r\n\r\nimport Contactinfo from '../../components/Contactinfo';\r\nconst Contactinfoform = lazy(()=> import('../../components/Contactinfoform'));\r\n\r\nconst Myprofile=()=>{\r\n\tconst {data, dispatch} = useContext(AppContext)\r\n\tconst [contact, setContact] = useState();\r\n\tconst [cInfo, setCinfo] = useState();\r\n\tconst [cForm, setCForm] = useState(false);\r\n\tconst { addToast } = useToasts();\t\r\n\tlet errorSetting = { appearance: 'error', autoDismiss:true,  autoDismissTimeout :2000 }\r\n\r\n\tuseEffect(()=>{\r\n\t\tgetContactInfo()\r\n\t},[])\r\n\r\n\tuseEffect(()=>{\r\n\t\tif(data.contactInfo) setCinfo(data.contactInfo)\r\n\t},[data.contactInfo])\r\n\t\r\n\tfunction formValidation(){\t\t\r\n\t\tlet mailformat = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\r\n\t\tlet phoneno = /^\\d{10}$/;\r\n\t\tif(!contact.fname){\t\t\t\r\n\t\t\tdispatch({type:'FETCH_ERROR', payload:'Please enter full name'})\r\n\t\t\treturn false\r\n\t\t}\r\n\t\telse if(!phoneno.test(contact.phone)){\t\t\t\r\n\t\t\tdispatch({type:'FETCH_ERROR', payload:'Not a valid Phone Number'})\r\n\t\t\treturn false\r\n\t\t}\t\t\r\n\t\telse if(!mailformat.test(contact.email)){\t\t\t\r\n\t\t\tdispatch({type:'FETCH_ERROR', payload:'Please enter email'})\r\n\t\t\treturn false\r\n\t\t}\r\n\t\tif(!contact.address){\r\n\t\t\tdispatch({type:'FETCH_ERROR', payload:'Please enter address'})\t\t\t\r\n\t\t\treturn false\r\n\t\t}\r\n\t\telse if(!contact.country){\t\t\t\r\n\t\t\tdispatch({type:'FETCH_ERROR', payload:'Please select country'})\r\n\t\t\treturn false\r\n\t\t}\r\n\t\telse if(!contact.state){\t\t\t\r\n\t\t\tdispatch({type:'FETCH_ERROR', payload:'Please select state'})\r\n\t\t\treturn false\r\n\t\t}\r\n\t\telse if(!contact.city){\t\t\t\r\n\t\t\tdispatch({type:'FETCH_ERROR', payload:'Please select city'})\r\n\t\t\treturn false\r\n\t\t}\t\t\t\t\t\t\r\n\t\telse if(!contact.pincode){\r\n\t\t\tdispatch({type:'FETCH_ERROR', payload:'Please enter pincode'})\t\t\t\r\n\t\t\treturn false\r\n\t\t}\r\n\t\telse{\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setContactData(data){\r\n\t\tsetContact(data)\r\n\t}\r\n\tfunction saveContact(){\r\n\t\tlet validate = formValidation()\r\n\t\tif(validate){\r\n\t\t\taxios.post(`${data.API_URL}/myprofile/contact_info`, contact, getToken() ).then((res)=>{\r\n\t\t\t\tgetContactInfo()\r\n\t\t\t})\t\t\t\r\n\t\t}\r\n\t}\r\n\tfunction updateContact(){\r\n\t\tlet validate = formValidation()\r\n\t\tif(validate){\r\n\t\t\taxios.put(`${data.API_URL}/myprofile/contact_info/${data.contactInfo.id}`, contact, getToken() ).then((res)=>{\r\n\t\t\t\tgetContactInfo()\r\n\t\t\t\tdispatch({type:'FETCH_SUCCESS', payload:'Information updated successfully'})\r\n\t\t\t})\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction getContactInfo(){\r\n\t\taxios.get(`${data.API_URL}/myprofile/contact_info`, getToken() ).then((res)=>{\t\t\t\t\t\r\n\t\t\tif(res.data){\r\n\t\t\t\tdispatch({type:'CONTACT_INFO', payload:res.data[0]})\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t// setCForm(true)\t\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\tfunction editcInfo(){\r\n\t\tsetCForm(true)\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t\t<div className=\"adminpanel\">\r\n\t\t\t\t{\r\n\t\t\t\t\tcInfo!==false? \r\n\t\t\t\t\t\t<div className=\"p-2\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t{cForm? \r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Contactinfoform infodata={setContactData} data={cInfo}/>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-end\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata.contactInfo? \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-sm btn_orange\" onClick={updateContact}>Update</button> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: <button className=\"btn btn-sm btn_orange\" onClick={saveContact}>Save</button> \r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t: cInfo? <Contactinfo data={cInfo} actionbtn={e=>editcInfo()} /> :null\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t:null\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n}\r\n\r\nexport default Hocpanel(Myprofile)"],"sourceRoot":""}