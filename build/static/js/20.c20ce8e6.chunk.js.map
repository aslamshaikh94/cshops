{"version":3,"sources":["pages/auth/Auth.js"],"names":["Register","lazy","Login","memo","history","useHistory","useState","authForm","setAuthForm","type","setType","form","className","fallback","appId","autoLoad","callback","res","Axios","post","accessToken","then","data","status","localStorage","setItem","token","push","disableMobileRedirect","cssClass","icon","clientId","buttonText","onSuccess","response","profileObj","console","log","cookiePolicy","variant","onClick","e"],"mappings":"uNAcMA,EAAYC,gBAAK,kBAAK,kCACtBC,EAASD,gBAAK,kBAAK,kCAwEVE,0BApEF,WACZ,IAAMC,EAAUC,cADA,EAGgBC,mBAAS,SAHzB,mBAGTC,EAHS,KAGCC,EAHD,OAIQF,mBAAS,SAJjB,mBAITG,EAJS,KAIHC,EAJG,KA+BhB,IAAMC,EAAkB,UAAXJ,EAAoB,kBAACP,EAAD,CAAUS,KAJ3C,SAAkBA,GACjBC,EAAQD,MAGsD,kBAACP,EAAD,MAC/D,OACE,0BAAMU,UAAU,kCACf,yBAAKA,UAAU,eAEf,yBAAKA,UAAU,YACd,kBAAC,WAAD,CAAUC,SAAU,4CACdF,GAEH,yBAAKC,UAAU,kCAEd,kBAAC,IAAD,CACDE,MAAM,kBACNC,UAAU,EACVC,SA/BkB,SAACC,GACxBC,IAAMC,KAAN,sCAA0CF,EAAIG,YAA9C,iBAAkEX,IAAQY,MAAK,SAACJ,GAC7EA,EAAIK,KAAKC,SACXC,aAAaC,QAAQ,QAAQ,GAC7BD,aAAaC,QAAQ,QAASR,EAAIK,KAAKI,OACvCtB,EAAQuB,KAAK,yBA2BTC,uBAAuB,EACvBC,SAAS,iDACTC,KAAK,kBAGP,kBAAC,cAAD,CACGC,SAAS,0EACTC,WAAW,QACXC,UA7Ce,SAACC,GAAc,IAC7BC,EAA2BD,EAA3BC,WAA2BD,EAAfd,YACnBgB,QAAQC,IAAIF,IA4CNG,aAAc,wBAKlB,yBAAK1B,UAAU,8BACd,kBAAC,IAAD,CAAQ2B,QAAQ,OAAOC,QAAS,SAAAC,GAvDpCjC,EAAuB,aAAXD,EAAuB,QAAU,cAuDUA","file":"static/js/20.c20ce8e6.chunk.js","sourcesContent":["import React, {useState, lazy, Suspense, memo, useContext} from 'react';\r\nimport {Button} from 'react-bootstrap';\r\nimport '../../assets/css/auth.css';\r\n\r\nimport {useHistory } from \"react-router-dom\";\r\n\r\n\r\nimport FacebookLogin from 'react-facebook-login';\r\n\r\n\r\nimport { GoogleLogin } from 'react-google-login';\r\n\r\nimport {Axios} from '../../config/apis';\r\n\r\nconst Register =  lazy(()=> import('./components/Register'));\r\nconst Login =  lazy(()=> import('./components/Login'));\r\n\r\n\r\n\r\nconst Auth = ()=>{\r\n\tconst history = useHistory()\r\n\r\n\tconst [authForm, setAuthForm] = useState('Login')\r\n\tconst [type, setType] = useState('buyer')\r\n\tconst clickHandle = ()=>{\r\n\t\tsetAuthForm(authForm===\"Register\"? \"Login\" : \"Register\")\r\n\t}\r\n\r\n\tconst responseGoogle = (response) => {\r\n\t  const {profileObj, accessToken} = response\r\n\t  console.log(profileObj);\r\n\t}\r\n\r\n\tconst responseFacebook = (res) => {\r\n\t  Axios.post(`/auth/facebook?access_token=${res.accessToken}&type=${type}`).then((res)=>{\r\n\t\t\tif(res.data.status){\r\n\t\t\t\tlocalStorage.setItem('auth', true)\r\n\t\t\t\tlocalStorage.setItem('token', res.data.token)\t\t\t\t\r\n\t\t\t\thistory.push('/admin/myprofile')\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tfunction usertype(type){\t\t\r\n\t\tsetType(type)\r\n\t}\r\n\r\n\tconst form = authForm===\"Login\"? <Register type={usertype}/> : <Login />\r\n\treturn(\r\n\t\t\t<main className=\"auth d-flex align-items-center\">\r\n\t\t\t\t<div className=\"authbanner\">\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"authform\">\t\t\t\t\t\r\n\t\t\t\t\t<Suspense fallback={<div>Loading...</div>}>\r\n\t\t        {form}\r\n\t\t      </Suspense>\r\n\t      \t<div className=\"d-flex mt-2 social flex-column\">\r\n\t      \t\t\r\n\t      \t\t<FacebookLogin\r\n\t\t\t\t\t\t  appId=\"286856442338632\"\r\n\t\t\t\t\t\t  autoLoad={false}\r\n\t\t\t\t\t\t  callback={responseFacebook}\r\n\t\t\t\t\t\t  disableMobileRedirect={true}\r\n\t\t\t\t\t\t  cssClass=\"facebook btn btn-primary btn-block btn-md mb-2\"\r\n\t\t\t\t\t\t  icon=\"fa-facebook-f\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<GoogleLogin\r\n\t\t\t\t\t    clientId=\"65459548614-fbcasihgr5n1j6mg2fa2hi45loh97ank.apps.googleusercontent.com\"\r\n\t\t\t\t\t    buttonText=\"Login\"\r\n\t\t\t\t\t    onSuccess={responseGoogle}\t\t\t\t\t    \r\n\t\t\t\t\t    cookiePolicy={'single_host_origin'}\r\n\t\t\t\t\t  />\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  \r\n\t\t\t\t  </div>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-end\">\r\n\t\t\t\t\t\t<Button variant=\"link\" onClick={e=>clickHandle()}>{authForm}</Button>\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</main>\r\n\t\t)\r\n}\r\n\r\nexport default memo(Auth);"],"sourceRoot":""}