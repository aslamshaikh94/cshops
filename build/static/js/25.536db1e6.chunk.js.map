{"version":3,"sources":["pages/auth/Auth.js"],"names":["Register","lazy","Login","memo","data","useContext","AppContext","history","useHistory","useState","authForm","setAuthForm","type","setType","responseGoogle","response","console","log","form","className","fallback","appId","autoLoad","callback","res","axios","post","API_URL","accessToken","then","status","localStorage","setItem","token","push","disableMobileRedirect","cssClass","icon","clientId","buttonText","onSuccess","onFailure","cookiePolicy","variant","onClick","e"],"mappings":"yOAeMA,EAAYC,gBAAK,kBAAK,wDACtBC,EAASD,gBAAK,kBAAK,kCAyEVE,0BArEF,WAAK,IACVC,EAAQC,qBAAWC,KAAnBF,KACDG,EAAUC,cAFA,EAIgBC,mBAAS,SAJzB,mBAITC,EAJS,KAICC,EAJD,OAKQF,mBAAS,SALjB,mBAKTG,EALS,KAKHC,EALG,KAUVC,EAAiB,SAACC,GACtBC,QAAQC,IAAIF,IAoBd,IAAMG,EAAkB,UAAXR,EAAoB,kBAACV,EAAD,CAAUY,KAJ3C,SAAkBA,GACjBC,EAAQD,MAGsD,kBAACV,EAAD,MAC/D,OACE,0BAAMiB,UAAU,kCACf,yBAAKA,UAAU,eAEf,yBAAKA,UAAU,YACd,kBAAC,WAAD,CAAUC,SAAU,4CACdF,GAEH,yBAAKC,UAAU,kCAEd,kBAAC,IAAD,CACDE,MAAM,kBACNC,UAAU,EACVC,SA/BkB,SAACC,GACxBC,IAAMC,KAAN,UAActB,EAAKuB,QAAnB,uCAAyDH,EAAII,YAA7D,iBAAiFhB,IAAQiB,MAAK,SAACL,GAC5FA,EAAIpB,KAAK0B,SACXC,aAAaC,QAAQ,QAAQ,GAC7BD,aAAaC,QAAQ,QAASR,EAAIpB,KAAK6B,OACvC1B,EAAQ2B,KAAK,yBA2BTC,uBAAuB,EACvBC,SAAS,iDACTC,KAAK,kBAGP,kBAAC,cAAD,CACGC,SAAS,2EACTC,WAAW,QACXC,UAAW1B,EACX2B,UAAW3B,EACX4B,aAAc,wBAKlB,yBAAKvB,UAAU,8BACd,kBAAC,IAAD,CAAQwB,QAAQ,OAAOC,QAAS,SAAAC,GAvDpClC,EAAuB,aAAXD,EAAuB,QAAU,cAuDUA","file":"static/js/25.536db1e6.chunk.js","sourcesContent":["import React, {useState, lazy, Suspense, memo, useContext} from 'react';\r\nimport {Button} from 'react-bootstrap';\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport '../../assets/css/auth.css';\r\nimport {AppContext} from '../../App';\r\nimport {useHistory } from \"react-router-dom\";\r\n\r\n\r\nimport FacebookLogin from 'react-facebook-login';\r\n\r\n\r\nimport { GoogleLogin } from 'react-google-login';\r\n\r\n\r\nconst Register =  lazy(()=> import('./components/Register'));\r\nconst Login =  lazy(()=> import('./components/Login'));\r\n\r\n\r\n\r\nconst Auth = ()=>{\r\n\tconst {data} = useContext(AppContext);\r\n\tconst history = useHistory()\r\n\r\n\tconst [authForm, setAuthForm] = useState('Login')\r\n\tconst [type, setType] = useState('buyer')\r\n\tconst clickHandle = ()=>{\r\n\t\tsetAuthForm(authForm===\"Register\"? \"Login\" : \"Register\")\r\n\t}\r\n\r\n\tconst responseGoogle = (response) => {\r\n\t  console.log(response);\r\n\t}\r\n\r\n\tconst responseFacebook = (res) => {\r\n\t  axios.post(`${data.API_URL}/auth/facebook?access_token=${res.accessToken}&type=${type}`).then((res)=>{\r\n\t\t\tif(res.data.status){\r\n\t\t\t\tlocalStorage.setItem('auth', true)\r\n\t\t\t\tlocalStorage.setItem('token', res.data.token)\t\t\t\t\r\n\t\t\t\thistory.push('/admin/myprofile')\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tfunction usertype(type){\t\t\r\n\t\tsetType(type)\r\n\t}\r\n\r\n\tconst form = authForm===\"Login\"? <Register type={usertype}/> : <Login />\r\n\treturn(\r\n\t\t\t<main className=\"auth d-flex align-items-center\">\r\n\t\t\t\t<div className=\"authbanner\">\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"authform\">\t\t\t\t\t\r\n\t\t\t\t\t<Suspense fallback={<div>Loading...</div>}>\r\n\t\t        {form}\r\n\t\t      </Suspense>\r\n\t      \t<div className=\"d-flex mt-2 social flex-column\">\r\n\t      \t\t\r\n\t      \t\t<FacebookLogin\r\n\t\t\t\t\t\t  appId=\"286856442338632\"\r\n\t\t\t\t\t\t  autoLoad={false}\r\n\t\t\t\t\t\t  callback={responseFacebook}\r\n\t\t\t\t\t\t  disableMobileRedirect={true}\r\n\t\t\t\t\t\t  cssClass=\"facebook btn btn-primary btn-block btn-md mb-2\"\r\n\t\t\t\t\t\t  icon=\"fa-facebook-f\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<GoogleLogin\r\n\t\t\t\t\t    clientId=\"658977310896-knrl3gka66fldh83dao2rhgbblmd4un9.apps.googleusercontent.com\"\r\n\t\t\t\t\t    buttonText=\"Login\"\r\n\t\t\t\t\t    onSuccess={responseGoogle}\r\n\t\t\t\t\t    onFailure={responseGoogle}\r\n\t\t\t\t\t    cookiePolicy={'single_host_origin'}\r\n\t\t\t\t\t  />\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  \r\n\t\t\t\t  </div>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-end\">\r\n\t\t\t\t\t\t<Button variant=\"link\" onClick={e=>clickHandle()}>{authForm}</Button>\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</main>\r\n\t\t)\r\n}\r\n\r\nexport default memo(Auth);"],"sourceRoot":""}