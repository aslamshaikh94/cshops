(this.webpackJsonpcshops=this.webpackJsonpcshops||[]).push([[3],{110:function(e,t,a){},111:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),l=a.n(r),o=a(39);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(o.b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},17:function(e,t,a){"use strict";function n(){return{headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")}}}function c(e){var t=document.getElementById("loader");t.style.display=e?"block":"none"}a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return c}))},26:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s}));var n=a(32),c=a.n(n),r=a(47),l=a(28),o=function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.initialize("UA-166008242-1");case 2:return e.next=4,l.a.pageview(window.location.pathname+window.location.search);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(e,t){l.a.event({category:e||"user",action:t})}},34:function(e,t,a){e.exports=a.p+"static/media/cshops.70f9d59b.png"},37:function(e,t,a){e.exports=a.p+"static/media/banner6.13a1de74.jpg"},39:function(e,t,a){"use strict";var n=a(14),c=a(44),r=a(6),l=a(0),o=a.n(l),s=(a(48),a(84),a(5)),i=a(16),u=a(20),m=a(54),d=a(17);var p=function(){var e=Object(l.useContext)(Y),t=e.data,a=e.dispatch,n=Object(u.useToasts)().addToast;return Object(l.useEffect)((function(){t.success&&(n(t.success,{appearance:"success",autoDismiss:!0,autoDismissTimeout:2e3}),setTimeout((function(){return a({type:"FETCH_SUCCESS",payload:""})}),2e3))}),[t.success]),Object(l.useEffect)((function(){t.error&&(n(t.error,{appearance:"error",autoDismiss:!0,autoDismissTimeout:2e3}),setTimeout((function(){return a({type:"FETCH_ERROR",payload:""})}),2e3))}),[t.error]),""},f=a(119),b=(a(91),a(34)),E=a.n(b),h=a(9),g={color:"white",fontSize:"10px",borderRadius:100,width:"15px",height:"15px",top:0,right:"-2px",position:"absolute"},v=Object(l.memo)((function(){var e=Object(l.useContext)(Y),t=e.data,a=e.dispatch,c=Object(l.useState)([]),r=Object(n.a)(c,2),u=r[0],m=r[1],d=Object(l.useState)([]),p=Object(n.a)(d,2),b=p[0],v=p[1],O=Object(s.f)();Object(l.useEffect)((function(){t.favorites&&m(t.favorites)}),[t.favorites]),Object(l.useEffect)((function(){t.carts&&v(t.carts)}),[t.carts]),Object(l.useEffect)((function(){y(),j()}),[]);var y=function(){h.a.get("/addto/wishlist?type=favorite").then((function(e){!1!==e.data.status&&a({type:"FETCH_FAVORITE",payload:e.data})}))},j=function(){h.a.get("/addto/wishlist?type=cart").then((function(e){!1!==e.data.status&&a({type:"FETCH_CART",payload:e.data})}))};var C=function(){localStorage.removeItem("auth"),localStorage.removeItem("token"),h.a.get("/users/user").then((function(e){a({type:"LOGGED_IN_USER",payload:e.data[0]}),!1===e.data.status?(a({type:"FETCH_PRODUCTS",payload:""}),localStorage.setItem("auth",!1),localStorage.removeItem("token")):localStorage.setItem("auth",!0)})).catch((function(e){})),O.push("/auth")};return o.a.createElement(o.a.Fragment,null,o.a.createElement("header",null,o.a.createElement("div",{className:"headerGroup"},o.a.createElement(f.a,{fluid:!0},o.a.createElement("div",{className:"row d-flex align-items-center justify-content-between"},o.a.createElement("div",null,o.a.createElement(i.b,{to:"/"},o.a.createElement("img",{src:E.a,alt:E.a,height:"30"}))),o.a.createElement("div",null,o.a.createElement("ul",{className:"navlink"},o.a.createElement("li",null,o.a.createElement(i.c,{to:"/admin/myprofile"},"My Account")),t.loggedInUser?o.a.createElement("li",null,o.a.createElement("button",{className:"btn",onClick:function(e){return C()}},o.a.createElement("i",{className:"fal fa-sign-out"}))):null,o.a.createElement("li",null,o.a.createElement(i.c,{to:"/cartview",className:"btn position-relative"},o.a.createElement("i",{className:"fal fa-shopping-cart"}),o.a.createElement("span",{style:g,className:"d-flex align-items-center justify-content-center bg_orange"},b.length))),o.a.createElement("li",null,o.a.createElement(i.c,{to:"/wishlist",className:"btn position-relative"},o.a.createElement("i",{className:"fal fa-heart"}),o.a.createElement("span",{style:g,className:"d-flex align-items-center justify-content-center bg_orange"},u.length)))))))),o.a.createElement("div",{className:"progress",id:"loader",style:{display:"none"}},o.a.createElement("div",{className:"indeterminate"}))))})),O=(a(110),Object(l.memo)((function(){return o.a.createElement("footer",null,o.a.createElement("p",{className:"m-0"},"Copyright \xa9 2019. CShops. All rights reserved."))}))),y=a(37),j=a.n(y),C=Object(l.memo)((function(){return o.a.createElement("div",{className:"banner"},o.a.createElement("img",{className:"img-fluid",src:j.a,alt:j.a}))})),N=(a(111),a(117)),T=a(64),S=a(26),k={height:"8px",width:"8px",borderRadius:"50%",display:"inline-block",position:"absolute",right:"5px"},_=Object(l.memo)((function(e){var t=Object(l.useContext)(Y),a=t.data,c=t.dispatch,r=Object(l.useState)([]),s=Object(n.a)(r,2),m=s[0],d=s[1],p=Object(l.useState)([]),f=Object(n.a)(p,2),b=f[0],E=f[1],g=Object(u.useToasts)().addToast,v=e.product;function O(e,t){var a={product_id:e,type:t};h.a.post("/addto",a).then((function(e){h.a.get("/addto/wishlist?type=favorite").then((function(e){!1===e.data.status?g(e.data.message,{appearance:"error",autoDismiss:!0,autoDismissTimeout:2e3}):c({type:"FETCH_FAVORITE",payload:e.data})})),h.a.get("/addto/wishlist?type=cart").then((function(e){!1!==e.data.status&&c({type:"FETCH_CART",payload:e.data})}))}))}return Object(l.useEffect)((function(){if(a.favorites&&a.favorites.length>0){var e=a.favorites.map((function(e){return e.product_id}));d(e)}}),[a.favorites]),Object(l.useEffect)((function(){if(a.carts&&a.carts.length>0){var e=a.carts.map((function(e){return e.product_id}));E(e)}}),[a.carts]),o.a.createElement(N.a,{xl:"2",lg:"3",md:"3",sm:"4",xs:"6",className:"product"},o.a.createElement("div",{className:"details text-center"},o.a.createElement(i.b,{to:"/product/".concat(v.slugs),className:"item"},a.loggedInUser&&a.loggedInUser.id===v.seller_id?o.a.createElement("span",{className:"bg_green",style:k}):null,o.a.createElement("img",{className:"img-fluid",src:v.thumbnail||"https://via.placeholder.com/150",onClick:function(e){return function(e){var t=a.products.find((function(t){return t.id===e}));c({type:"PRODUCT_DETAILS",payload:t}),Object(S.a)(a.loggedInUser?a.loggedInUser.fname:"user","Product id: ".concat(e))}(v.id)},alt:v.product_name}),o.a.createElement("div",{className:"pb-2 pt-2"},o.a.createElement("p",{className:"name"},v.product_name.slice(0,15)),o.a.createElement("div",{className:"price"},o.a.createElement("i",{className:"far fa-rupee-sign"}),v&&a.loggedInUser&&"supplier"===a.loggedInUser.usertype?v.venders_price:v?v.selling_price:"null"),o.a.createElement("p",{className:"name"},o.a.createElement("b",null,"Brand: "),v.brand_name?v.brand_name.slice(0,10):"NA"),o.a.createElement("p",{className:"name"},v.minorder||"NA"," Pieces (Min. Order) "),o.a.createElement(T.a,{rat:3}))),o.a.createElement("div",{className:"topstrip justify-content-between"},o.a.createElement("div",{className:"stock"},"In Stock ",v.stock," pcs"),o.a.createElement("div",{className:"add"},b.includes(v.id)?null:o.a.createElement("i",{className:"fal fa-shopping-cart orange",onClick:function(e){return O(v.id,"cart")}}),m.includes(v.id)?null:o.a.createElement("i",{className:"fal fa-heart orange",onClick:function(e){return O(v.id,"favorite")}})))))})),w=a(45),x=(a(113),a(13)),I=Object(l.memo)((function(){var e=Object(l.useContext)(Y),t=e.data,a=e.dispatch,c=Object(l.useState)([]),r=Object(n.a)(c,2),s=r[0],i=r[1],u=function(e){var t=e.target.checked,a=e.target.name,n=e.target.value;Object(d.b)(!0),h.a.get("/product/filters?field=".concat(a,"&search=").concat(n)).then((function(e){var c=[];e.data.forEach((function(e){s.some((function(t){return t.id===e.id}))||c.push(e)})),i(t?[].concat(Object(w.a)(s),c):s.filter((function(e){return e[a]!==n})))}))};return Object(l.useEffect)((function(){s.length>0&&a({type:"FETCH_PRODUCTS",payload:s}),Object(d.b)(!1)}),[s,a]),o.a.createElement("div",{className:"sidenav"},o.a.createElement("div",{className:"d-flex justify-content-end closeMenu",onClick:function(e){document.querySelector(".sidenavecol").classList.toggle("open")}},o.a.createElement("i",{className:"fal fa-times orange"})),s.length>0?o.a.createElement("button",{className:"btn btn-sm btn-block mb-2 btn_orange",onClick:function(e){return document.querySelectorAll('input[type="checkbox"]').forEach((function(e){return e.checked=!1})),void h.a.get("/product/products").then((function(e){a({type:"FETCH_PRODUCTS",payload:e.data}),i([])}))}},"Clear Filters"):null,t&&t.loggedInUser&&"supplier"===t.loggedInUser.usertype?o.a.createElement("div",{className:"border-bottom mb-2"},o.a.createElement("h6",null,"Sellers"),o.a.createElement(x.Checkbox,{label:"Bombay Hardware",name:"sellers",value:"Bombay Hardware",onChange:function(e){return u(e)}}),o.a.createElement(x.Checkbox,{label:"Delhi Hardware",name:"sellers",value:"Delhi Hardware",onChange:function(e){return u(e)}}),o.a.createElement(x.Checkbox,{label:"Pune Hardware",name:"sellers",value:"Pune Hardware",onChange:function(e){return u(e)}}),o.a.createElement(x.Checkbox,{label:"Panvel Hardware",name:"sellers",value:"Panvel Hardware",onChange:function(e){return u(e)}})):null,o.a.createElement("div",{className:"border-bottom mb-2"},o.a.createElement("h6",null,"Usage/Application"),o.a.createElement(x.Checkbox,{name:"categories",label:"Industrial",value:"industrial",onChange:function(e){return u(e)}}),o.a.createElement(x.Checkbox,{name:"categories",label:"Construction",value:"construction",onChange:function(e){return u(e)}}),o.a.createElement(x.Checkbox,{name:"categories",label:"Agriculture",value:"agriculture",onChange:function(e){return u(e)}}),o.a.createElement(x.Checkbox,{name:"categories",label:"Housewares",value:"housewares",onChange:function(e){return u(e)}})),o.a.createElement("div",{className:"border-bottom mb-2"},o.a.createElement("h6",null,"Type"),o.a.createElement(x.Checkbox,{name:"type",label:"Electrical",value:"Electrical",onChange:function(e){return u(e)}}),o.a.createElement(x.Checkbox,{name:"type",label:"Hand Tools",value:"Hand Tools",onChange:function(e){return u(e)}}),o.a.createElement(x.Checkbox,{name:"type",label:"Furniture",value:"Furniture",onChange:function(e){return u(e)}}),o.a.createElement(x.Checkbox,{name:"type",label:"Automobile",value:"Automobile",onChange:function(e){return u(e)}})))})),R=(a(114),a(120)),H=a(121),U=a(118),F=a(122),D=a(25),P=a.n(D),A=Object(l.memo)((function(){var e=Object(l.useState)(),t=Object(n.a)(e,2),a=t[0],c=t[1],r=Object(l.useContext)(Y),s=r.data,i=r.dispatch,u=function(e){Object(d.b)(!0),P.a.get("".concat(s.API_URL,"/product/search?field=product_name&search=").concat(a)).then((function(e){i({type:"FETCH_PRODUCTS",payload:e.data}),Object(d.b)(!1)}))};return o.a.createElement("div",{className:"filterbox"},o.a.createElement(R.a,{className:"justify-content-md-center"},o.a.createElement(N.a,{lg:"6"},o.a.createElement(H.a,{className:"mb-0",size:"sm"},o.a.createElement("div",{className:"filterOpen"},o.a.createElement("button",{className:"btn btn-sm"},o.a.createElement("i",{className:"far fa-bars orange",onClick:function(e){document.querySelector(".sidenavecol").classList.toggle("open")}}))),o.a.createElement(U.a,{type:"search",placeholder:"Search Products","aria-label":"Search Products","aria-describedby":"basic-addon2",onChange:function(e){return function(e){c(e.target.value)}(e)},onKeyDown:function(e){return function(e){"Enter"===e.key&&u()}(e)}}),o.a.createElement(H.a.Append,null,o.a.createElement(F.a,{variant:"outline-secondary",onClick:function(e){return u()}},o.a.createElement("i",{className:"far fa-search"})))))))})),L=a(71),z=a(72),G=a(74),B=a(73),q=function(e){Object(G.a)(a,e);var t=Object(B.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(z.a)(a,[{key:"render",value:function(){return this.state.hasError?o.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(o.a.Component),M=Object(l.memo)((function(){var e=Object(l.useContext)(Y),t=e.data,a=e.dispatch;return Object(l.useEffect)((function(){Object(S.b)()}),[]),Object(l.useEffect)((function(){a({type:"FETCH_REQUEST",payload:!0}),h.a.get("/product/select?colnames=id,product_name,thumbnail,brand_name,\n\t\t\t\tselling_price,venders_price,minorder,slugs").then((function(e,t){t?a({type:"FETCH_ERROR",payload:t}):e.data&&a({type:"FETCH_PRODUCTS",payload:e.data})}))}),[a]),o.a.createElement("main",{className:"home"},o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-2 sidenavecol"},o.a.createElement(I,null)),o.a.createElement("div",{className:"col-lg-10"},o.a.createElement(C,null),o.a.createElement(A,null),o.a.createElement("div",{className:"row no-gutters"},o.a.createElement(q,null,t.products?t.products.map((function(e){return o.a.createElement(_,{product:e,key:e.product_name+e.id})})):null))))))}));a.d(t,"a",(function(){return Y}));var V=Object(l.lazy)((function(){return Promise.all([a.e(6),a.e(22)]).then(a.bind(null,223))})),W=Object(l.lazy)((function(){return Promise.all([a.e(25),a.e(20)]).then(a.bind(null,215))})),J=Object(l.lazy)((function(){return a.e(29).then(a.bind(null,216))})),Q=Object(l.lazy)((function(){return a.e(19).then(a.bind(null,217))})),K=Object(l.lazy)((function(){return a.e(28).then(a.bind(null,218))})),$=Object(l.lazy)((function(){return a.e(16).then(a.bind(null,219))})),X={loading:!0,error:!1},Y=Object(l.createContext)(),Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_REQUEST":return Object(r.a)(Object(r.a)({},e),{},{loading:t.payload});case"FETCH_ERROR":return Object(r.a)(Object(r.a)({},e),{},{loading:!1,error:t.payload});case"FETCH_SUCCESS":return Object(r.a)(Object(r.a)({},e),{},{loading:!1,success:t.payload});case"FETCH_PRODUCTS":return Object(r.a)(Object(r.a)({},e),{},{loading:!1,products:t.payload});case"PRODUCT_DETAILS":return Object(r.a)(Object(r.a)({},e),{},{productDetails:t.payload});case"LOGGED_IN_USER":return Object(r.a)(Object(r.a)({},e),{},{loggedInUser:t.payload});case"CONTACT_INFO":return Object(r.a)(Object(r.a)({},e),{},{loading:!1,contactInfo:t.payload});case"FETCH_CART":return Object(r.a)(Object(r.a)({},e),{},{carts:t.payload});case"FETCH_FAVORITE":return Object(r.a)(Object(r.a)({},e),{},{favorites:t.payload});case"PROGRESS":return Object(r.a)(Object(r.a)({},e),{},{progress:t.payload});default:return X}},ee=function(e){var t=e.component,a=(e.auth,Object(c.a)(e,["component","auth"]));return o.a.createElement(s.b,Object.assign({},a,{render:function(e){return"true"===localStorage.getItem("auth")?o.a.createElement(t,e):o.a.createElement(s.a,{to:"/auth"})}}))};t.b=function(e){var t=Object(l.useReducer)(Z,X),a=Object(n.a)(t,2),c=a[0],r=a[1];return Object(l.useEffect)((function(){!0===c.loading?Object(d.b)(!0):!1===c.loading&&Object(d.b)(!1)}),[c.loading]),Object(l.useEffect)((function(){h.a.get("/users/user").then((function(e){r({type:"LOGGED_IN_USER",payload:e.data[0]}),!1===e.data.status?(localStorage.setItem("auth",!1),localStorage.removeItem("token")):localStorage.setItem("auth",!0)})).catch((function(e){}))}),[]),o.a.createElement("div",{className:"App"},o.a.createElement(m.a,null,o.a.createElement("title",null,"CShops"),o.a.createElement("meta",{name:"description",content:">CShops Commercial Shops Wholesalers and Retailers"})),o.a.createElement(l.Suspense,{fallback:o.a.createElement("div",{className:"loader"},"Loading...")},o.a.createElement(u.ToastProvider,null,o.a.createElement(i.a,null,o.a.createElement(Y.Provider,{value:{data:c,dispatch:r}},o.a.createElement(p,null),o.a.createElement(v,null),o.a.createElement(s.b,{exact:!0,path:"/",component:M}),o.a.createElement(s.b,{path:"/product/:id",component:V}),o.a.createElement(s.b,{path:"/auth",component:W}),o.a.createElement(ee,{path:"/admin",component:$}),o.a.createElement(ee,{path:"/wishlist",component:J}),o.a.createElement(ee,{path:"/cartview",component:Q}),o.a.createElement(ee,{path:"/placeorder",component:K}))),o.a.createElement(O,null))))}},64:function(e,t,a){"use strict";var n=a(0),c=a.n(n);t.a=Object(n.memo)((function(e){for(var t=[],a=5;a>=0;a--)a<e.rat?t.push(c.a.createElement("i",{className:"fas fa-star orange",key:a})):t.push(c.a.createElement("i",{className:"fas fa-star gray",key:a}));return t}))},79:function(e,t,a){e.exports=a(116)},84:function(e,t,a){},9:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(25),c="";c="https://api.cshops.in";var r=a.n(n).a.create({baseURL:c,headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")}});r.defaults.timeout=5e3,r.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)}))},91:function(e,t,a){}},[[79,4,5]]]);
//# sourceMappingURL=main.c86846fa.chunk.js.map